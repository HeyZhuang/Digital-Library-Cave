# æ¨ªæ‰«æ±Ÿæ¹–ä¸ªäººçŸ¥è¯†åº“ç³»ç»Ÿ - ä»£ç åˆ†ç±»æ•´ç†æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº Spring Boot 3.3.8 + Vue 3 æ„å»ºçš„ç°ä»£åŒ–çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé›†æˆäº†ç”¨æˆ·è®¤è¯ã€æ–‡ç« ç®¡ç†ã€æœç´¢æœåŠ¡ã€ç»Ÿè®¡åˆ†æç­‰å®Œæ•´åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆæ€»è§ˆ

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Spring Boot 3.3.8 + JDK 21
- **å®‰å…¨**: Spring Security 6 + JWT
- **æ•°æ®åº“**: MySQL 8.0 + MyBatis Plus 3.5.10
- **ç¼“å­˜**: Redis 6.0+
- **æœç´¢**: Elasticsearch 8.0+
- **ä»»åŠ¡è°ƒåº¦**: Quartz
- **AIé›†æˆ**: Spring AI + Ollama
- **æ–‡ä»¶å¤„ç†**: Thumbnailator + iText PDF
- **äº‘å­˜å‚¨**: é˜¿é‡Œäº‘ OSS
- **å·¥å…·åº“**: Hutool 5.8.24

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 6.2.4
- **çŠ¶æ€ç®¡ç†**: Pinia 3.0.3
- **è·¯ç”±**: Vue Router 4.5.1
- **UIç»„ä»¶**: Headless UI + Heroicons
- **æ ·å¼**: Tailwind CSS 3.4.17
- **åŠ¨æ•ˆ**: GSAP 3.12.5 + Three.js 0.168.0
- **å·¥å…·**: VueUse 11.2.0

## ğŸ“ åç«¯ä»£ç åˆ†ç±»

### 1. æ ¸å¿ƒæ¶æ„å±‚ (Core Architecture)

#### 1.1 å¯åŠ¨ç±» (Application Entry)
```java
// com.itzixi.Application.java
package com.itzixi;

import org.mybatis.spring.annotation.MapperScan;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.ComponentScan;

@SpringBootApplication
@MapperScan("com.itzixi.mapper")
@ComponentScan(basePackages = "com.itzixi")
public class Application {

    //    http://localhost:8080/hello/world
    //    http://127.0.0.1:8080/hello/world

    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }

}
```

#### 1.2 é…ç½®ç±» (Configuration)

##### SecurityConfig.java - Spring Security å®‰å…¨é…ç½®
```java
package com.itzixi.config;

import com.itzixi.security.JwtAuthenticationEntryPoint;
import com.itzixi.security.JwtAuthenticationFilter;
import lombok.RequiredArgsConstructor;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.http.HttpMethod;
import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;
import org.springframework.security.config.http.SessionCreationPolicy;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.web.SecurityFilterChain;
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;
import org.springframework.web.cors.CorsConfiguration;
import org.springframework.web.cors.CorsConfigurationSource;
import org.springframework.web.cors.UrlBasedCorsConfigurationSource;
import org.springframework.beans.factory.annotation.Value;

import java.util.Arrays;

/**
 * Spring Securityé…ç½®
 */
@Configuration
@EnableWebSecurity
@EnableMethodSecurity(prePostEnabled = true)
@RequiredArgsConstructor
public class SecurityConfig {
    
    private final JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;
    
    @Value("${website.domain}")
    private String domain;
    
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
    
    @Bean
    public JwtAuthenticationFilter jwtAuthenticationFilter() {
        return new JwtAuthenticationFilter();
    }
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            // ç¦ç”¨CSRF
            .csrf(AbstractHttpConfigurer::disable)
            
            // é…ç½®CORS
            .cors(cors -> cors.configurationSource(corsConfigurationSource()))
            
            // é…ç½®ä¼šè¯ç®¡ç†
            .sessionManagement(session -> session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
            
            // é…ç½®å¼‚å¸¸å¤„ç†
            .exceptionHandling(exception -> exception
                .authenticationEntryPoint(jwtAuthenticationEntryPoint)
            )
            
            // é…ç½®æˆæƒè§„åˆ™
            .authorizeHttpRequests(auth -> auth
                // å…¬å¼€è®¿é—®çš„ç«¯ç‚¹
                .requestMatchers("/api/auth/**").permitAll()
                .requestMatchers("/actuator/**").permitAll()
                .requestMatchers("/swagger-ui/**", "/v3/api-docs/**").permitAll()
                .requestMatchers("/upload/avatar/**").permitAll()
                
                // æ”¾è¡Œæ‰€æœ‰OPTIONSé¢„æ£€è¯·æ±‚
                .requestMatchers(HttpMethod.OPTIONS, "/**").permitAll()
                
                // æ–‡ç« ç›¸å…³çš„å…¬å¼€è®¿é—®
                .requestMatchers(HttpMethod.GET, "/api/articles/**").permitAll()
                .requestMatchers(HttpMethod.GET, "/api/tags/**").permitAll()
                .requestMatchers(HttpMethod.GET, "/api/categories/**").permitAll()
                .requestMatchers(HttpMethod.GET, "/api/search/**").permitAll()
                .requestMatchers(HttpMethod.GET, "/api/stats/public/**").permitAll()
                
                // è¯„è®ºæŸ¥çœ‹å…¬å¼€
                .requestMatchers(HttpMethod.GET, "/api/comments/**").permitAll()
                
                // ç®¡ç†å‘˜æƒé™
                .requestMatchers("/api/admin/**").hasRole("ADMIN")
                .requestMatchers(HttpMethod.DELETE, "/api/articles/**").hasRole("ADMIN")
                .requestMatchers(HttpMethod.DELETE, "/api/tags/**").hasRole("ADMIN")
                .requestMatchers(HttpMethod.DELETE, "/api/users/**").hasRole("ADMIN")
                
                // å…¶ä»–è¯·æ±‚éœ€è¦è®¤è¯
                .anyRequest().authenticated()
            )
            
            // æ·»åŠ JWTè¿‡æ»¤å™¨
            .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);
            
        return http.build();
    }
    
    @Bean
    public CorsConfigurationSource corsConfigurationSource() {
        CorsConfiguration configuration = new CorsConfiguration();
        
        // å…è®¸çš„æº - æ˜ç¡®æŒ‡å®šå¼€å‘ç¯å¢ƒåŸŸå
        configuration.setAllowedOriginPatterns(Arrays.asList(
            "http://localhost:*",              // æœ¬åœ°å¼€å‘ç¯å¢ƒ - æ”¯æŒæ‰€æœ‰ç«¯å£
            "http://127.0.0.1:*",             // æœ¬åœ°ç¯å¢ƒ - æ”¯æŒæ‰€æœ‰ç«¯å£
            "http://localhost:3000",           // æ˜ç¡®æŒ‡å®šå‰ç«¯åœ°å€
            "http://localhost:5173",           // Viteé»˜è®¤ç«¯å£  
            "http://localhost:4173",           // Viteé¢„è§ˆç«¯å£
            "http://140.143.155.164:3000",     // ç”Ÿäº§ç¯å¢ƒå‰ç«¯åœ°å€
            "http://140.143.155.164:*",        // æ”¯æŒè¯¥æœåŠ¡å™¨çš„æ‰€æœ‰ç«¯å£
            domain                            // ä»é…ç½®æ–‡ä»¶è¯»å–çš„å‰ç«¯åŸŸå
        ));
        
        // å…è®¸çš„æ–¹æ³• - åŒ…å«æ‰€æœ‰RESTfulæ–¹æ³•
        configuration.setAllowedMethods(Arrays.asList(
            "GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS", "HEAD"
        ));
        
        // å…è®¸çš„å¤´ - åŒ…å«å¸¸ç”¨çš„è¯·æ±‚å¤´
        configuration.setAllowedHeaders(Arrays.asList(
            "Authorization", 
            "Content-Type", 
            "X-Requested-With", 
            "Accept", 
            "Origin", 
            "Access-Control-Request-Method", 
            "Access-Control-Request-Headers",
            "X-Frame-Options"
        ));
        
        // å…è®¸æºå¸¦å‡­è¯ï¼ˆCookieã€Authorizationå¤´ç­‰ï¼‰
        configuration.setAllowCredentials(true);
        
        // é¢„æ£€è¯·æ±‚çš„ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰
        configuration.setMaxAge(3600L);
        
        // æš´éœ²çš„å“åº”å¤´ - å‰ç«¯å¯ä»¥è®¿é—®çš„å“åº”å¤´
        configuration.setExposedHeaders(Arrays.asList(
            "Authorization", 
            "X-Total-Count", 
            "Content-Disposition",
            "Access-Control-Allow-Origin",
            "Access-Control-Allow-Credentials"
        ));
        
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", configuration);
        
        return source;
    }
}
```

##### å…¶ä»–é…ç½®ç±»
```java
// com.itzixi.config/
â”œâ”€â”€ MyBatisPlusConfig.java       # MyBatis Plus é…ç½®
â”œâ”€â”€ ElasticsearchConfig.java     # Elasticsearch é…ç½®
â”œâ”€â”€ RedisConfig.java             # Redis ç¼“å­˜é…ç½®
â”œâ”€â”€ QuartzConfig.java            # Quartz å®šæ—¶ä»»åŠ¡é…ç½®
â”œâ”€â”€ OssConfig.java               # OSS äº‘å­˜å‚¨é…ç½®
â”œâ”€â”€ MailConfig.java              # é‚®ä»¶æœåŠ¡é…ç½®
â””â”€â”€ WebConfig.java               # Web ç›¸å…³é…ç½®
```

#### 1.3 åˆ‡é¢ç¼–ç¨‹ (AOP)
```java
// com.itzixi.ServiceLogAspect.java
- æœåŠ¡å±‚æ—¥å¿—è®°å½•åˆ‡é¢
- æ€§èƒ½ç›‘æ§
- å¼‚å¸¸å¤„ç†
```

### 2. æ•°æ®è®¿é—®å±‚ (Data Access Layer)

#### 2.1 å®ä½“ç±» (Entity)

##### User.java - ç”¨æˆ·å®ä½“
```java
package com.itzixi.entity;

import com.baomidou.mybatisplus.annotation.*;
import com.fasterxml.jackson.annotation.JsonIgnore;
import com.itzixi.common.enums.UserRole;
import lombok.Data;
import lombok.EqualsAndHashCode;
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;

import java.time.LocalDateTime;
import java.util.Collection;
import java.util.Collections;

/**
 * ç”¨æˆ·å®ä½“ç±»
 */
@Data
@EqualsAndHashCode(callSuper = false)
@TableName("sys_user")
public class User implements UserDetails {
    
    @TableId(type = IdType.AUTO)
    private Long id;
    
    @TableField("username")
    private String username;
    
    @JsonIgnore
    @TableField("password")
    private String password;
    
    @TableField("role")
    private Integer role;
    
    @TableField("avatar")
    private String avatar;
    
    @TableField("email")
    private String email;
    
    @TableField("nickname")
    private String nickname;
    
    @TableField("last_login")
    private LocalDateTime lastLogin;
    
    @TableField("enabled")
    private boolean enabled;
    
    @TableField(value = "created_at", fill = FieldFill.INSERT)
    private LocalDateTime createdAt;
    
    @TableField(value = "updated_at", fill = FieldFill.INSERT_UPDATE)
    private LocalDateTime updatedAt;
    
    // UserDetails æ¥å£å®ç°
    
    @Override
    @JsonIgnore
    public Collection<? extends GrantedAuthority> getAuthorities() {
        UserRole userRole = UserRole.fromCode(this.role);
        return Collections.singletonList(new SimpleGrantedAuthority(userRole.getAuthority()));
    }
    
    @Override
    @JsonIgnore
    public String getPassword() {
        return this.password;
    }
    
    @Override
    public String getUsername() {
        return this.username;
    }
    
    @Override
    @JsonIgnore
    public boolean isAccountNonExpired() {
        return true;
    }
    
    @Override
    @JsonIgnore
    public boolean isAccountNonLocked() {
        return true;
    }
    
    @Override
    @JsonIgnore
    public boolean isCredentialsNonExpired() {
        return true;
    }
    
    @Override
    @JsonIgnore
    public boolean isEnabled() {
        return this.enabled;
    }
    
    // ä¸šåŠ¡æ–¹æ³•
    
    public UserRole getUserRole() {
        return UserRole.fromCode(this.role);
    }
    
    public void setUserRole(UserRole userRole) {
        this.role = userRole.getCode();
    }
    
    public boolean isAdmin() {
        return UserRole.ADMIN.getCode().equals(this.role);
    }
}
```

##### Article.java - æ–‡ç« å®ä½“
```java
package com.itzixi.entity;

import com.baomidou.mybatisplus.annotation.*;
import com.itzixi.common.enums.ArticleStatus;
import lombok.Data;
import lombok.EqualsAndHashCode;

import java.time.LocalDateTime;

/**
 * æ–‡ç« å®ä½“ç±»
 */
@Data
@EqualsAndHashCode(callSuper = false)
@TableName("article")
public class Article {
    
    @TableId(type = IdType.AUTO)
    private Long id;
    
    @TableField("title")
    private String title;
    
    @TableField("content")
    private String content;
    
    @TableField("summary")
    private String summary;
    
    @TableField("author_id")
    private Long authorId;
    
    @TableField("category_id")
    private Long categoryId;
    
    @TableField("status")
    private Integer status;
    
    @TableField("views")
    private Long views;
    
    @TableField("likes")
    private Long likes;
    
    @TableField("comments_count")
    private Long commentsCount;
    
    @TableField("is_top")
    private Boolean isTop;
    
    @TableField("allow_comments")
    private Boolean allowComments;
    
    @TableField("publish_time")
    private LocalDateTime publishTime;
    
    @TableField(value = "created_at", fill = FieldFill.INSERT)
    private LocalDateTime createdAt;
    
    @TableField(value = "updated_at", fill = FieldFill.INSERT_UPDATE)
    private LocalDateTime updatedAt;
    
    // éæ•°æ®åº“å­—æ®µ
    @TableField(exist = false)
    private String authorName;
    
    @TableField(exist = false)
    private String categoryName;
    
    // ä¸šåŠ¡æ–¹æ³•
    
    public ArticleStatus getArticleStatus() {
        return ArticleStatus.fromCode(this.status);
    }
    
    public void setArticleStatus(ArticleStatus articleStatus) {
        this.status = articleStatus.getCode();
    }
    
    public boolean isDraft() {
        return ArticleStatus.DRAFT.getCode().equals(this.status);
    }
    
    public boolean isPublished() {
        return ArticleStatus.PUBLISHED.getCode().equals(this.status);
    }
    
    public boolean isArchived() {
        return ArticleStatus.ARCHIVED.getCode().equals(this.status);
    }
    
    public boolean canTransitionTo(ArticleStatus target) {
        return getArticleStatus().canTransitionTo(target);
    }
    
    public void incrementViews() {
        this.views = (this.views == null ? 0 : this.views) + 1;
    }
    
    public void incrementLikes() {
        this.likes = (this.likes == null ? 0 : this.likes) + 1;
    }
    
    public void decrementLikes() {
        this.likes = Math.max(0, (this.likes == null ? 0 : this.likes) - 1);
    }
    
    public void incrementCommentsCount() {
        this.commentsCount = (this.commentsCount == null ? 0 : this.commentsCount) + 1;
    }
    
    public void decrementCommentsCount() {
        this.commentsCount = Math.max(0, (this.commentsCount == null ? 0 : this.commentsCount) - 1);
    }
}
```

##### å…¶ä»–å®ä½“ç±»
```java
// com.itzixi.entity/
â”œâ”€â”€ ArticleVersion.java          # æ–‡ç« ç‰ˆæœ¬å®ä½“
â”œâ”€â”€ Category.java                # åˆ†ç±»å®ä½“
â”œâ”€â”€ Tag.java                     # æ ‡ç­¾å®ä½“
â”œâ”€â”€ ArticleTag.java              # æ–‡ç« æ ‡ç­¾å…³è”å®ä½“
â”œâ”€â”€ Comment.java                 # è¯„è®ºå®ä½“
â”œâ”€â”€ VisitLog.java                # è®¿é—®æ—¥å¿—å®ä½“
â”œâ”€â”€ SearchLog.java               # æœç´¢æ—¥å¿—å®ä½“
â”œâ”€â”€ FileInfo.java                # æ–‡ä»¶ä¿¡æ¯å®ä½“
â””â”€â”€ ScheduledTask.java           # å®šæ—¶ä»»åŠ¡å®ä½“
```

#### 2.2 æ•°æ®ä¼ è¾“å¯¹è±¡ (DTO)
```java
// com.itzixi.dto/
â”œâ”€â”€ request/                     # è¯·æ±‚ DTO
â”‚   â”œâ”€â”€ UserLoginRequest.java
â”‚   â”œâ”€â”€ UserRegisterRequest.java
â”‚   â”œâ”€â”€ ArticleCreateRequest.java
â”‚   â”œâ”€â”€ ArticleUpdateRequest.java
â”‚   â”œâ”€â”€ SearchRequest.java
â”‚   â””â”€â”€ CommentRequest.java
â”œâ”€â”€ response/                    # å“åº” DTO
â”‚   â”œâ”€â”€ UserProfileResponse.java
â”‚   â”œâ”€â”€ ArticleResponse.java
â”‚   â”œâ”€â”€ SearchResponse.java
â”‚   â””â”€â”€ StatisticsResponse.java
â””â”€â”€ common/                      # é€šç”¨ DTO
    â”œâ”€â”€ PageRequest.java
    â”œâ”€â”€ PageResponse.java
    â””â”€â”€ SortRequest.java
```

#### 2.3 æ•°æ®è®¿é—®å±‚ (Mapper)
```java
// com.itzixi.mapper/
â”œâ”€â”€ UserMapper.java              # ç”¨æˆ·æ•°æ®è®¿é—®
â”œâ”€â”€ ArticleMapper.java           # æ–‡ç« æ•°æ®è®¿é—®
â”œâ”€â”€ CategoryMapper.java          # åˆ†ç±»æ•°æ®è®¿é—®
â”œâ”€â”€ TagMapper.java               # æ ‡ç­¾æ•°æ®è®¿é—®
â”œâ”€â”€ CommentMapper.java           # è¯„è®ºæ•°æ®è®¿é—®
â”œâ”€â”€ VisitLogMapper.java          # è®¿é—®æ—¥å¿—æ•°æ®è®¿é—®
â”œâ”€â”€ SearchLogMapper.java         # æœç´¢æ—¥å¿—æ•°æ®è®¿é—®
â”œâ”€â”€ FileInfoMapper.java          # æ–‡ä»¶ä¿¡æ¯æ•°æ®è®¿é—®
â””â”€â”€ ScheduledTaskMapper.java     # å®šæ—¶ä»»åŠ¡æ•°æ®è®¿é—®
```

### 3. ä¸šåŠ¡é€»è¾‘å±‚ (Service Layer)

#### 3.1 ä¸šåŠ¡æ¥å£ (Service Interface)

##### UserService.java - ç”¨æˆ·æœåŠ¡æ¥å£
```java
package com.itzixi.service;

import com.baomidou.mybatisplus.extension.service.IService;
import com.itzixi.entity.User;

/**
 * ç”¨æˆ·æœåŠ¡æ¥å£
 */
public interface UserService extends IService<User> {
    
    /**
     * æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·
     */
    User findByUsername(String username);
    
    /**
     * ç”¨æˆ·æ³¨å†Œ
     */
    User register(String username, String password, String email, String nickname);
    
    /**
     * ç”¨æˆ·ç™»å½•
     */
    String login(String username, String password);
    
    /**
     * åˆ·æ–°Token
     */
    String refreshToken(String oldToken);
    
    /**
     * æ›´æ–°æœ€åç™»å½•æ—¶é—´
     */
    void updateLastLogin(String username);
    
    /**
     * æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å­˜åœ¨
     */
    boolean existsByUsername(String username);
    
    /**
     * æ£€æŸ¥é‚®ç®±æ˜¯å¦å­˜åœ¨
     */
    boolean existsByEmail(String email);
}
```

##### ArticleService.java - æ–‡ç« æœåŠ¡æ¥å£
```java
package com.itzixi.service;

import com.baomidou.mybatisplus.core.metadata.IPage;
import com.baomidou.mybatisplus.extension.plugins.pagination.Page;
import com.baomidou.mybatisplus.extension.service.IService;
import com.itzixi.entity.Article;

import java.util.List;

/**
 * æ–‡ç« æœåŠ¡æ¥å£
 */
public interface ArticleService extends IService<Article> {
    
    /**
     * åˆ†é¡µæŸ¥è¯¢æ–‡ç« åˆ—è¡¨
     */
    IPage<Article> getArticlePage(Page<Article> page, Integer status);
    
    /**
     * æ ¹æ®IDæŸ¥è¯¢æ–‡ç« è¯¦æƒ…
     */
    Article getArticleById(Long id);
    
    /**
     * åˆ›å»ºæ–‡ç« 
     */
    Article createArticle(Article article, List<String> tagNames);
    
    /**
     * æ›´æ–°æ–‡ç« 
     */
    Article updateArticle(Article article, List<String> tagNames);
    
    /**
     * åˆ é™¤æ–‡ç« 
     */
    boolean deleteArticle(Long id);
    
    /**
     * å‘å¸ƒæ–‡ç« 
     */
    boolean publishArticle(Long id);
    
    /**
     * å°†æ–‡ç« è®¾ä¸ºè‰ç¨¿
     */
    boolean draftArticle(Long id);
    
    /**
     * å½’æ¡£æ–‡ç« 
     */
    boolean archiveArticle(Long id);
    
    /**
     * æ ¹æ®åˆ†ç±»æŸ¥è¯¢æ–‡ç« 
     */
    List<Article> getArticlesByCategory(Long categoryId);
    
    /**
     * æ ¹æ®æ ‡ç­¾æŸ¥è¯¢æ–‡ç« 
     */
    List<Article> getArticlesByTag(String tagName);
    
    /**
     * æœç´¢æ–‡ç« 
     */
    IPage<Article> searchArticles(Page<Article> page, String keyword);
    
    /**
     * è·å–çƒ­é—¨æ–‡ç« 
     */
    List<Article> getPopularArticles(Integer limit);
    
    /**
     * è·å–æœ€æ–°æ–‡ç« 
     */
    List<Article> getLatestArticles(Integer limit);
    
    /**
     * å¢åŠ æ–‡ç« é˜…è¯»é‡
     */
    void incrementViews(Long id);
    
    /**
     * ç‚¹èµæ–‡ç« 
     */
    boolean likeArticle(Long id);
    
    /**
     * å–æ¶ˆç‚¹èµæ–‡ç« 
     */
    boolean unlikeArticle(Long id);
}
```

##### å…¶ä»–æœåŠ¡æ¥å£
```java
// com.itzixi.service/
â”œâ”€â”€ CategoryService.java         # åˆ†ç±»æœåŠ¡æ¥å£
â”œâ”€â”€ TagService.java              # æ ‡ç­¾æœåŠ¡æ¥å£
â”œâ”€â”€ CommentService.java          # è¯„è®ºæœåŠ¡æ¥å£
â”œâ”€â”€ SearchService.java           # æœç´¢æœåŠ¡æ¥å£
â”œâ”€â”€ StatisticsService.java       # ç»Ÿè®¡æœåŠ¡æ¥å£
â”œâ”€â”€ FileService.java             # æ–‡ä»¶æœåŠ¡æ¥å£
â”œâ”€â”€ EmailService.java            # é‚®ä»¶æœåŠ¡æ¥å£
â””â”€â”€ ScheduledService.java        # å®šæ—¶ä»»åŠ¡æœåŠ¡æ¥å£
```

#### 3.2 ä¸šåŠ¡å®ç° (Service Implementation)
```java
// com.itzixi.service.impl/
â”œâ”€â”€ UserServiceImpl.java         # ç”¨æˆ·æœåŠ¡å®ç°
â”œâ”€â”€ ArticleServiceImpl.java      # æ–‡ç« æœåŠ¡å®ç°
â”œâ”€â”€ CategoryServiceImpl.java     # åˆ†ç±»æœåŠ¡å®ç°
â”œâ”€â”€ TagServiceImpl.java          # æ ‡ç­¾æœåŠ¡å®ç°
â”œâ”€â”€ CommentServiceImpl.java      # è¯„è®ºæœåŠ¡å®ç°
â”œâ”€â”€ SearchServiceImpl.java       # æœç´¢æœåŠ¡å®ç°
â”œâ”€â”€ StatisticsServiceImpl.java   # ç»Ÿè®¡æœåŠ¡å®ç°
â”œâ”€â”€ FileServiceImpl.java         # æ–‡ä»¶æœåŠ¡å®ç°
â”œâ”€â”€ EmailServiceImpl.java        # é‚®ä»¶æœåŠ¡å®ç°
â””â”€â”€ ScheduledServiceImpl.java    # å®šæ—¶ä»»åŠ¡æœåŠ¡å®ç°
```

### 4. æ§åˆ¶å™¨å±‚ (Controller Layer)

#### 4.1 API æ§åˆ¶å™¨

##### AuthController.java - è®¤è¯æ§åˆ¶å™¨
```java
package com.itzixi.controller;

import com.itzixi.common.result.Result;
import com.itzixi.dto.auth.AuthResponse;
import com.itzixi.dto.auth.LoginRequest;
import com.itzixi.dto.auth.RegisterRequest;
import com.itzixi.entity.User;
import com.itzixi.service.UserService;
import com.itzixi.utils.JwtUtil;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.security.core.Authentication;
import org.springframework.security.core.context.SecurityContextHolder;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.*;

import jakarta.servlet.http.HttpServletRequest;

/**
 * è®¤è¯æ§åˆ¶å™¨
 */
@Slf4j
@RestController
@RequestMapping("/api/auth")
@RequiredArgsConstructor
public class AuthController {
    
    private final UserService userService;
    private final JwtUtil jwtUtil;
    
    /**
     * ç”¨æˆ·ç™»å½•
     */
    @PostMapping("/login")
    public Result<AuthResponse.LoginData> login(@Validated @RequestBody LoginRequest request) {
        String token = userService.login(request.getUsername(), request.getPassword());
        String refreshToken = jwtUtil.createRefreshToken(request.getUsername());
        
        User user = userService.findByUsername(request.getUsername());
        
        AuthResponse.UserInfo userInfo = new AuthResponse.UserInfo(
            user.getId(),
            user.getUsername(),
            user.getNickname(),
            user.getEmail(),
            user.getAvatar(),
            user.getCreatedAt().toString()
        );
        
        AuthResponse.LoginData loginData = new AuthResponse.LoginData(token, userInfo);
        
        return Result.success("ç™»å½•æˆåŠŸ", loginData);
    }
    
    /**
     * ç”¨æˆ·æ³¨å†Œ
     */
    @PostMapping("/register")
    public Result<AuthResponse.LoginData> register(@Validated @RequestBody RegisterRequest request) {
        User user = userService.register(
            request.getUsername(), 
            request.getPassword(), 
            request.getEmail(), 
            request.getNickname()
        );
        
        String token = jwtUtil.createToken(user.getUsername());
        String refreshToken = jwtUtil.createRefreshToken(user.getUsername());
        
        AuthResponse.UserInfo userInfo = new AuthResponse.UserInfo(
            user.getId(),
            user.getUsername(),
            user.getNickname(),
            user.getEmail(),
            user.getAvatar(),
            user.getCreatedAt().toString()
        );
        
        AuthResponse.LoginData loginData = new AuthResponse.LoginData(token, userInfo);
        
        return Result.success("æ³¨å†ŒæˆåŠŸ", loginData);
    }
    
    /**
     * åˆ·æ–°Token
     */
    @PostMapping("/refresh")
    public Result<AuthResponse.LoginData> refresh(HttpServletRequest request) {
        String oldToken = getTokenFromRequest(request);
        if (oldToken == null) {
            return Result.badRequest("Tokenä¸èƒ½ä¸ºç©º");
        }
        
        String newToken = userService.refreshToken(oldToken);
        String username = jwtUtil.getUsernameFromToken(newToken);
        String refreshToken = jwtUtil.createRefreshToken(username);
        
        User user = userService.findByUsername(username);
        
        AuthResponse.UserInfo userInfo = new AuthResponse.UserInfo(
            user.getId(),
            user.getUsername(),
            user.getNickname(),
            user.getEmail(),
            user.getAvatar(),
            user.getCreatedAt().toString()
        );
        
        AuthResponse.LoginData loginData = new AuthResponse.LoginData(newToken, userInfo);
        
        return Result.success("Tokenåˆ·æ–°æˆåŠŸ", loginData);
    }
    
    /**
     * è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
     */
    @GetMapping("/me")
    public Result<AuthResponse.UserInfo> me() {
        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();
        User user = (User) authentication.getPrincipal();
        
        AuthResponse.UserInfo userInfo = new AuthResponse.UserInfo(
            user.getId(),
            user.getUsername(),
            user.getNickname(),
            user.getEmail(),
            user.getAvatar(),
            user.getCreatedAt().toString()
        );
        
        return Result.success(userInfo);
    }
    
    /**
     * ç”¨æˆ·æ³¨é”€
     */
    @PostMapping("/logout")
    public Result<Void> logout() {
        // JWTæ˜¯æ— çŠ¶æ€çš„ï¼Œå®¢æˆ·ç«¯åˆ é™¤tokenå³å¯
        // è¿™é‡Œå¯ä»¥å°†tokenåŠ å…¥é»‘åå•ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰
        return Result.success("æ³¨é”€æˆåŠŸ", null);
    }
    
    /**
     * æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å¯ç”¨
     */
    @GetMapping("/check-username")
    public Result<Boolean> checkUsername(@RequestParam String username) {
        boolean exists = userService.existsByUsername(username);
        return Result.success(!exists);
    }
    
    /**
     * æ£€æŸ¥é‚®ç®±æ˜¯å¦å¯ç”¨
     */
    @GetMapping("/check-email")
    public Result<Boolean> checkEmail(@RequestParam String email) {
        boolean exists = userService.existsByEmail(email);
        return Result.success(!exists);
    }
    
    /**
     * ä»è¯·æ±‚å¤´ä¸­æå–Token
     */
    private String getTokenFromRequest(HttpServletRequest request) {
        String bearerToken = request.getHeader("Authorization");
        if (bearerToken != null && bearerToken.startsWith("Bearer ")) {
            return bearerToken.substring(7);
        }
        return null;
    }
}
```

##### å…¶ä»–æ§åˆ¶å™¨
```java
// com.itzixi.controller/
â”œâ”€â”€ UserController.java          # ç”¨æˆ·ç®¡ç†æ§åˆ¶å™¨
â”œâ”€â”€ ArticleController.java       # æ–‡ç« ç®¡ç†æ§åˆ¶å™¨
â”œâ”€â”€ CategoryController.java      # åˆ†ç±»ç®¡ç†æ§åˆ¶å™¨
â”œâ”€â”€ TagController.java           # æ ‡ç­¾ç®¡ç†æ§åˆ¶å™¨
â”œâ”€â”€ CommentController.java       # è¯„è®ºç®¡ç†æ§åˆ¶å™¨
â”œâ”€â”€ SearchController.java        # æœç´¢åŠŸèƒ½æ§åˆ¶å™¨
â”œâ”€â”€ StatisticsController.java    # ç»Ÿè®¡åˆ†ææ§åˆ¶å™¨
â”œâ”€â”€ FileController.java          # æ–‡ä»¶ç®¡ç†æ§åˆ¶å™¨
â””â”€â”€ AdminController.java         # ç®¡ç†å‘˜æ§åˆ¶å™¨
```

### 5. å®‰å…¨æ¨¡å— (Security Module)

#### 5.1 è®¤è¯æˆæƒ
```java
// com.itzixi.security/
â”œâ”€â”€ JwtAuthenticationFilter.java # JWT è®¤è¯è¿‡æ»¤å™¨
â”œâ”€â”€ JwtAuthenticationProvider.java # JWT è®¤è¯æä¾›è€…
â”œâ”€â”€ JwtTokenUtil.java            # JWT å·¥å…·ç±»
â”œâ”€â”€ UserDetailsServiceImpl.java  # ç”¨æˆ·è¯¦æƒ…æœåŠ¡å®ç°
â”œâ”€â”€ SecurityUser.java            # å®‰å…¨ç”¨æˆ·åŒ…è£…ç±»
â””â”€â”€ PasswordEncoderConfig.java   # å¯†ç ç¼–ç é…ç½®
```

#### 5.2 æƒé™ç®¡ç†
```java
// com.itzixi.security.authority/
â”œâ”€â”€ AuthorityService.java        # æƒé™æœåŠ¡
â”œâ”€â”€ RoleService.java             # è§’è‰²æœåŠ¡
â””â”€â”€ PermissionService.java       # æƒé™ç®¡ç†æœåŠ¡
```

### 6. é€šç”¨æ¨¡å— (Common Module)

#### 6.1 æšä¸¾ç±» (Enums)
```java
// com.itzixi.common.enums/
â”œâ”€â”€ UserStatus.java              # ç”¨æˆ·çŠ¶æ€æšä¸¾
â”œâ”€â”€ ArticleStatus.java           # æ–‡ç« çŠ¶æ€æšä¸¾
â”œâ”€â”€ FileType.java                # æ–‡ä»¶ç±»å‹æšä¸¾
â”œâ”€â”€ TaskStatus.java              # ä»»åŠ¡çŠ¶æ€æšä¸¾
â””â”€â”€ ResponseCode.java            # å“åº”ç æšä¸¾
```

#### 6.2 å¼‚å¸¸å¤„ç† (Exception)
```java
// com.itzixi.common.exception/
â”œâ”€â”€ GlobalExceptionHandler.java  # å…¨å±€å¼‚å¸¸å¤„ç†å™¨
â”œâ”€â”€ BusinessException.java       # ä¸šåŠ¡å¼‚å¸¸
â”œâ”€â”€ ValidationException.java     # éªŒè¯å¼‚å¸¸
â”œâ”€â”€ AuthenticationException.java # è®¤è¯å¼‚å¸¸
â””â”€â”€ AuthorizationException.java  # æˆæƒå¼‚å¸¸
```

#### 6.3 ç»Ÿä¸€å“åº” (Response)
```java
// com.itzixi.common.result/
â”œâ”€â”€ Result.java                  # ç»Ÿä¸€å“åº”ç»“æœ
â”œâ”€â”€ ResultCode.java              # å“åº”ç å®šä¹‰
â”œâ”€â”€ PageResult.java              # åˆ†é¡µå“åº”ç»“æœ
â””â”€â”€ ApiResponse.java             # API å“åº”åŒ…è£…
```

### 7. å·¥å…·ç±» (Utils)

#### 7.1 é€šç”¨å·¥å…·
```java
// com.itzixi.utils/
â”œâ”€â”€ DateUtils.java               # æ—¥æœŸå·¥å…·ç±»
â”œâ”€â”€ StringUtils.java             # å­—ç¬¦ä¸²å·¥å…·ç±»
â”œâ”€â”€ FileUtils.java               # æ–‡ä»¶å·¥å…·ç±»
â”œâ”€â”€ ImageUtils.java              # å›¾ç‰‡å¤„ç†å·¥å…·ç±»
â”œâ”€â”€ PdfUtils.java                # PDF å¤„ç†å·¥å…·ç±»
â”œâ”€â”€ EmailUtils.java              # é‚®ä»¶å·¥å…·ç±»
â”œâ”€â”€ CacheUtils.java              # ç¼“å­˜å·¥å…·ç±»
â”œâ”€â”€ JsonUtils.java               # JSON å·¥å…·ç±»
â”œâ”€â”€ ValidationUtils.java         # éªŒè¯å·¥å…·ç±»
â””â”€â”€ HttpUtils.java               # HTTP å·¥å…·ç±»
```

#### 7.2 ä¸šåŠ¡å·¥å…·
```java
// com.itzixi.utils.business/
â”œâ”€â”€ ArticleUtils.java            # æ–‡ç« å¤„ç†å·¥å…·
â”œâ”€â”€ SearchUtils.java             # æœç´¢å·¥å…·
â”œâ”€â”€ StatisticsUtils.java         # ç»Ÿè®¡å·¥å…·
â””â”€â”€ TagUtils.java                # æ ‡ç­¾å¤„ç†å·¥å…·
```

### 8. Bean é…ç½® (Bean Configuration)

```java
// com.itzixi.bean/
â”œâ”€â”€ RedisTemplate.java           # Redis æ¨¡æ¿é…ç½®
â”œâ”€â”€ RestTemplate.java            # HTTP å®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ ElasticsearchTemplate.java   # Elasticsearch æ¨¡æ¿é…ç½®
â”œâ”€â”€ MailSender.java              # é‚®ä»¶å‘é€å™¨é…ç½®
â””â”€â”€ TaskExecutor.java            # ä»»åŠ¡æ‰§è¡Œå™¨é…ç½®
```

## ğŸ“ å‰ç«¯ä»£ç åˆ†ç±»

### 1. æ ¸å¿ƒæ¶æ„å±‚ (Core Architecture)

#### 1.1 åº”ç”¨å…¥å£

##### main.ts - åº”ç”¨ä¸»å…¥å£
```typescript
import './assets/main.css'
import 'highlight.js/styles/github.css'

import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'
import router from './router'
import { RouteHelper } from './utils/routeHelper'
import { RouteFixHelper } from './utils/routeFixHelper'
import { RouteDiagnostic } from './utils/routeDiagnostic'

const app = createApp(App)
const pinia = createPinia()

app.use(pinia)
app.use(router)

// åˆå§‹åŒ–è·¯ç”±åŠ©æ‰‹
RouteHelper.init(router)

// åˆå§‹åŒ–è·¯ç”±ä¿®å¤åŠ©æ‰‹ - è§£å†³å¯¼èˆªéœ€è¦åˆ·æ–°çš„é—®é¢˜
RouteFixHelper.init(router)

// åˆå§‹åŒ–è·¯ç”±è¯Šæ–­å·¥å…·
RouteDiagnostic.init(router)

// å¼‚æ­¥åˆå§‹åŒ–è®¤è¯çŠ¶æ€
async function initializeApp() {
  try {
    const { useAuthStore } = await import('./stores/auth')
    const authStore = useAuthStore()
    await authStore.initAuth()
  } catch (error) {
    console.error('åº”ç”¨åˆå§‹åŒ–å¤±è´¥:', error)
  } finally {
    app.mount('#app')
  }
}

initializeApp()
```

##### App.vue - æ ¹ç»„ä»¶
```vue
// src/App.vue                   # æ ¹ç»„ä»¶ (48KB, 1884 lines)
```

#### 1.2 è·¯ç”±é…ç½®
```typescript
// src/router/
â”œâ”€â”€ index.ts                     # è·¯ç”±ä¸»é…ç½®
â”œâ”€â”€ routes.ts                    # è·¯ç”±å®šä¹‰
â”œâ”€â”€ guards.ts                    # è·¯ç”±å®ˆå«
â””â”€â”€ types.ts                     # è·¯ç”±ç±»å‹å®šä¹‰
```

#### 1.3 çŠ¶æ€ç®¡ç†

##### auth.ts - è®¤è¯çŠ¶æ€ç®¡ç†
```typescript
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { authApi, type User, type LoginRequest, type RegisterRequest } from '../api/auth'

export const useAuthStore = defineStore('auth', () => {
  const user = ref<User | null>(null)
  const token = ref<string | null>(null)
  const loading = ref(false)
  const initialized = ref(false)  // æ·»åŠ åˆå§‹åŒ–çŠ¶æ€

  // è®¡ç®—å±æ€§
  const isAuthenticated = computed(() => !!token.value && !!user.value)
  const userInfo = computed(() => user.value)

  // åˆå§‹åŒ–è®¤è¯çŠ¶æ€ - æ”¹ä¸ºå¼‚æ­¥
  const initAuth = async () => {
    if (initialized.value) return  // é¿å…é‡å¤åˆå§‹åŒ–
    
    try {
      const savedToken = localStorage.getItem('token')
      const savedUser = localStorage.getItem('user')
      
      if (savedToken && savedUser) {
        token.value = savedToken
        try {
          user.value = JSON.parse(savedUser)
          // éªŒè¨¼tokenæ˜¯å¦ä»ç„¶æœ‰æ•ˆ
          await fetchCurrentUser()
        } catch (error) {
          console.error('è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error)
          clearAuth()
        }
      }
    } catch (error) {
      console.error('åˆå§‹åŒ–è®¤è¯çŠ¶æ€å¤±è´¥:', error)
      clearAuth()
    } finally {
      initialized.value = true
    }
  }

  // ç™»å½•
  const login = async (credentials: LoginRequest) => {
    try {
      loading.value = true
      const response = await authApi.login(credentials)
      
      if (response.code === 200) {
        token.value = response.data.token
        user.value = response.data.user
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem('token', response.data.token)
        localStorage.setItem('user', JSON.stringify(response.data.user))
        
        return { success: true, message: 'ç™»å½•æˆåŠŸ' }
      } else {
        return { success: false, message: response.message || 'ç™»å½•å¤±è´¥' }
      }
    } catch (error: any) {
      console.error('ç™»å½•é”™è¯¯:', error)
      return { 
        success: false, 
        message: error.response?.data?.message || 'ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥' 
      }
    } finally {
      loading.value = false
    }
  }

  // æ³¨å†Œ
  const register = async (data: RegisterRequest) => {
    try {
      loading.value = true
      const response = await authApi.register(data)
      
      if (response.code === 200) {
        token.value = response.data.token
        user.value = response.data.user
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem('token', response.data.token)
        localStorage.setItem('user', JSON.stringify(response.data.user))
        
        return { success: true, message: 'æ³¨å†ŒæˆåŠŸ' }
      } else {
        return { success: false, message: response.message || 'æ³¨å†Œå¤±è´¥' }
      }
    } catch (error: any) {
      console.error('æ³¨å†Œé”™è¯¯:', error)
      return { 
        success: false, 
        message: error.response?.data?.message || 'æ³¨å†Œå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥' 
      }
    } finally {
      loading.value = false
    }
  }

  // ç™»å‡º
  const logout = async () => {
    try {
      await authApi.logout()
    } catch (error) {
      console.error('ç™»å‡ºè¯·æ±‚å¤±è´¥:', error)
    } finally {
      clearAuth()
    }
  }

  // æ¸…é™¤è®¤è¯ä¿¡æ¯
  const clearAuth = () => {
    user.value = null
    token.value = null
    localStorage.removeItem('token')
    localStorage.removeItem('user')
  }

  // è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
  const fetchCurrentUser = async () => {
    try {
      const response = await authApi.getCurrentUser()
      if (response.code === 200) {
        user.value = response.data
        localStorage.setItem('user', JSON.stringify(response.data))
      }
    } catch (error) {
      console.error('è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error)
      clearAuth()
    }
  }

  return {
    user,
    token,
    loading,
    initialized,
    isAuthenticated,
    userInfo,
    initAuth,
    login,
    register,
    logout,
    clearAuth,
    fetchCurrentUser
  }
})
```

##### å…¶ä»–çŠ¶æ€ç®¡ç†
```typescript
// src/stores/
â”œâ”€â”€ index.ts                     # Pinia ä¸»é…ç½®
â”œâ”€â”€ user.ts                      # ç”¨æˆ·çŠ¶æ€ç®¡ç†
â”œâ”€â”€ article.ts                   # æ–‡ç« çŠ¶æ€ç®¡ç†
â”œâ”€â”€ search.ts                    # æœç´¢çŠ¶æ€ç®¡ç†
â”œâ”€â”€ theme.ts                     # ä¸»é¢˜çŠ¶æ€ç®¡ç†
â””â”€â”€ app.ts                       # åº”ç”¨å…¨å±€çŠ¶æ€
```

### 2. ç»„ä»¶å±‚ (Component Layer)

#### 2.1 åŸºç¡€ç»„ä»¶ (Base Components)
```vue
// src/components/base/
â”œâ”€â”€ BaseButton.vue               # åŸºç¡€æŒ‰é’®ç»„ä»¶
â”œâ”€â”€ BaseInput.vue                # åŸºç¡€è¾“å…¥æ¡†ç»„ä»¶
â”œâ”€â”€ BaseModal.vue                # åŸºç¡€æ¨¡æ€æ¡†ç»„ä»¶
â”œâ”€â”€ BaseTable.vue                # åŸºç¡€è¡¨æ ¼ç»„ä»¶
â”œâ”€â”€ BasePagination.vue           # åŸºç¡€åˆ†é¡µç»„ä»¶
â”œâ”€â”€ BaseLoading.vue              # åŸºç¡€åŠ è½½ç»„ä»¶
â”œâ”€â”€ BaseToast.vue                # åŸºç¡€æç¤ºç»„ä»¶
â””â”€â”€ BaseCard.vue                 # åŸºç¡€å¡ç‰‡ç»„ä»¶
```

#### 2.2 ä¸šåŠ¡ç»„ä»¶ (Business Components)

##### ArticleCard.vue - æ–‡ç« å¡ç‰‡ç»„ä»¶
```vue
<template>
  <div class="card hover:shadow-xl transition-shadow cursor-pointer" @click="navigateToArticle">
    <!-- æ–‡ç« å†…å®¹ -->
    <div class="space-y-3">
      <!-- æ ‡é¢˜ -->
      <h3 class="text-lg font-semibold text-title line-clamp-2">
        {{ article.title || 'æ— æ ‡é¢˜' }}
      </h3>

      <!-- åˆ†ç±»æ ‡ç­¾ -->
      <div class="flex items-center space-x-2">
        <span class="badge badge-primary">{{ article.categoryName || 'æœªåˆ†ç±»' }}</span>
      </div>

      <!-- æ‘˜è¦ -->
      <p class="text-gray-700 text-sm leading-relaxed line-clamp-3">
        {{ article.summary || truncateContent(article.content, 100) }}
      </p>

      <!-- å…ƒæ•°æ® -->
      <div class="flex items-center justify-between text-xs text-gray-600 pt-2 border-t border-gray-100">
        <div class="flex items-center space-x-4">
          <span v-if="article.views" class="flex items-center">
            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
            </svg>
            {{ formatNumber(article.views) }}
          </span>
          <span v-if="article.createdAt" class="flex items-center">
            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            {{ formatDate(article.createdAt) }}
          </span>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed, ref } from 'vue'
import { useRouter } from 'vue-router'
import type { Article } from '@/api/articles'

interface Props {
  article: Article
}

const props = defineProps<Props>()
const router = useRouter()
const navigating = ref(false)

const navigateToArticle = async () => {
  if (navigating.value) return // é˜²æ­¢é‡å¤ç‚¹å‡»
  
  try {
    navigating.value = true
    await router.push(`/article/${props.article.id}`)
  } catch (error) {
    console.error('å¯¼èˆªå¤±è´¥:', error)
    // å¦‚æœå¯¼èˆªå¤±è´¥ï¼Œå°è¯•ä½¿ç”¨ replace
    try {
      await router.replace(`/article/${props.article.id}`)
    } catch (replaceError) {
      console.error('å¯¼èˆªæ›¿æ¢å¤±è´¥:', replaceError)
      // æœ€åçš„å¤‡é€‰æ–¹æ¡ˆï¼šä½¿ç”¨ window.location
      window.location.href = `/article/${props.article.id}`
    }
  } finally {
    // å»¶è¿Ÿé‡ç½®çŠ¶æ€ï¼Œé¿å…å¿«é€Ÿè¿å‡»
    setTimeout(() => {
      navigating.value = false
    }, 500)
  }
}

const truncateContent = (content: string | undefined, maxLength: number): string => {
  // é˜²æŠ¤æ€§æ£€æŸ¥ï¼šç¡®ä¿contentå­˜åœ¨ä¸”ä¸ºå­—ç¬¦ä¸²
  if (!content || typeof content !== 'string') {
    return 'æš‚æ— å†…å®¹...'
  }
  if (content.length <= maxLength) return content
  return content.substring(0, maxLength) + '...'
}

const formatNumber = (num: number): string => {
  if (num >= 1000000) {
    return (num / 1000000).toFixed(1) + 'M'
  } else if (num >= 1000) {
    return (num / 1000).toFixed(1) + 'K'
  }
  return num.toString()
}

const formatDate = (dateString: string): string => {
  const date = new Date(dateString)
  const now = new Date()
  const diffTime = Math.abs(now.getTime() - date.getTime())
  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))

  if (diffDays === 1) {
    return 'æ˜¨å¤©'
  } else if (diffDays < 7) {
    return `${diffDays}å¤©å‰`
  } else if (diffDays < 30) {
    return `${Math.floor(diffDays / 7)}å‘¨å‰`
  } else {
    return date.toLocaleDateString('zh-CN', {
      year: 'numeric',
      month: 'numeric',
      day: 'numeric'
    })
  }
}
</script>

<style scoped>
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
</style>
```

##### å…¶ä»–ä¸šåŠ¡ç»„ä»¶
```vue
// src/components/business/
â”œâ”€â”€ UserProfile.vue              # ç”¨æˆ·èµ„æ–™ç»„ä»¶
â”œâ”€â”€ ArticleEditor.vue            # æ–‡ç« ç¼–è¾‘å™¨ç»„ä»¶
â”œâ”€â”€ ArticleList.vue              # æ–‡ç« åˆ—è¡¨ç»„ä»¶
â”œâ”€â”€ CommentList.vue              # è¯„è®ºåˆ—è¡¨ç»„ä»¶
â”œâ”€â”€ SearchBox.vue                # æœç´¢æ¡†ç»„ä»¶
â”œâ”€â”€ TagCloud.vue                 # æ ‡ç­¾äº‘ç»„ä»¶
â”œâ”€â”€ Statistics.vue               # ç»Ÿè®¡å›¾è¡¨ç»„ä»¶
â””â”€â”€ FileUpload.vue               # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
```

#### 2.3 å¸ƒå±€ç»„ä»¶ (Layout Components)
```vue
// src/components/layout/
â”œâ”€â”€ AppHeader.vue                # åº”ç”¨å¤´éƒ¨ç»„ä»¶
â”œâ”€â”€ AppSidebar.vue               # åº”ç”¨ä¾§è¾¹æ ç»„ä»¶
â”œâ”€â”€ AppFooter.vue                # åº”ç”¨åº•éƒ¨ç»„ä»¶
â”œâ”€â”€ AppBreadcrumb.vue            # é¢åŒ…å±‘ç»„ä»¶
â”œâ”€â”€ AppNavigation.vue            # å¯¼èˆªç»„ä»¶
â””â”€â”€ AppLayout.vue                # ä¸»å¸ƒå±€ç»„ä»¶
```

### 3. è§†å›¾å±‚ (View Layer)

#### 3.1 é¡µé¢è§†å›¾
```vue
// src/views/
â”œâ”€â”€ Home.vue                     # é¦–é¡µ
â”œâ”€â”€ About.vue                    # å…³äºé¡µé¢
â”œâ”€â”€ Login.vue                    # ç™»å½•é¡µé¢
â”œâ”€â”€ Register.vue                 # æ³¨å†Œé¡µé¢
â”œâ”€â”€ Profile.vue                  # ä¸ªäººèµ„æ–™é¡µé¢
â”œâ”€â”€ Dashboard.vue                # ä»ªè¡¨ç›˜é¡µé¢
â”œâ”€â”€ NotFound.vue                 # 404 é¡µé¢
â””â”€â”€ Error.vue                    # é”™è¯¯é¡µé¢
```

#### 3.2 æ–‡ç« ç›¸å…³è§†å›¾
```vue
// src/views/article/
â”œâ”€â”€ ArticleList.vue              # æ–‡ç« åˆ—è¡¨é¡µé¢
â”œâ”€â”€ ArticleDetail.vue            # æ–‡ç« è¯¦æƒ…é¡µé¢
â”œâ”€â”€ ArticleCreate.vue            # åˆ›å»ºæ–‡ç« é¡µé¢
â”œâ”€â”€ ArticleEdit.vue              # ç¼–è¾‘æ–‡ç« é¡µé¢
â”œâ”€â”€ ArticlePreview.vue           # æ–‡ç« é¢„è§ˆé¡µé¢
â””â”€â”€ ArticleHistory.vue           # æ–‡ç« å†å²é¡µé¢
```

#### 3.3 ç®¡ç†ç›¸å…³è§†å›¾
```vue
// src/views/admin/
â”œâ”€â”€ UserManagement.vue           # ç”¨æˆ·ç®¡ç†é¡µé¢
â”œâ”€â”€ CategoryManagement.vue       # åˆ†ç±»ç®¡ç†é¡µé¢
â”œâ”€â”€ TagManagement.vue            # æ ‡ç­¾ç®¡ç†é¡µé¢
â”œâ”€â”€ CommentManagement.vue        # è¯„è®ºç®¡ç†é¡µé¢
â”œâ”€â”€ FileManagement.vue           # æ–‡ä»¶ç®¡ç†é¡µé¢
â”œâ”€â”€ StatisticsView.vue           # ç»Ÿè®¡åˆ†æé¡µé¢
â””â”€â”€ SystemSettings.vue           # ç³»ç»Ÿè®¾ç½®é¡µé¢
```

### 4. æœåŠ¡å±‚ (Service Layer)

#### 4.1 API æœåŠ¡

##### auth.ts - è®¤è¯ç›¸å…³ API
```typescript
import axios from 'axios'

const BASE_URL = 'http://localhost:8080/api'

// é…ç½®axioså®ä¾‹
const api = axios.create({
  baseURL: BASE_URL,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  },
  // æ·»åŠ å‚æ•°åºåˆ—åŒ–å™¨ï¼Œæ­£ç¡®å¤„ç†æ•°ç»„å‚æ•°
  paramsSerializer: {
    serialize: (params: any) => {
      const searchParams = new URLSearchParams()
      
      Object.keys(params).forEach(key => {
        const value = params[key]
        if (Array.isArray(value)) {
          // å¯¹äºæ•°ç»„ï¼Œä½¿ç”¨é‡å¤çš„keyè€Œä¸æ˜¯key[]æ ¼å¼
          value.forEach(item => {
            searchParams.append(key, String(item))
          })
        } else if (value !== null && value !== undefined) {
          searchParams.append(key, String(value))
        }
      })
      
      return searchParams.toString()
    }
  }
})

// è¯·æ±‚æ‹¦æˆªå™¨ - æ·»åŠ JWT token
api.interceptors.request.use(
  config => {
    const token = localStorage.getItem('token')
    if (token) {
      config.headers.Authorization = `Bearer ${token}`
    }
    return config
  },
  error => {
    return Promise.reject(error)
  }
)

// å“åº”æ‹¦æˆªå™¨
api.interceptors.response.use(
  response => response.data,
  error => {
    if (error.response?.status === 401) {
      // æ¸…é™¤è¿‡æœŸtokenå¹¶è·³è½¬åˆ°ç™»å½•é¡µ
      localStorage.removeItem('token')
      localStorage.removeItem('user')
      window.location.href = '/login'
    }
    console.error('APIè°ƒç”¨é”™è¯¯:', error)
    return Promise.reject(error)
  }
)

export interface LoginRequest {
  username: string
  password: string
}

export interface RegisterRequest {
  username: string
  password: string
  email: string
  nickname?: string
}

export interface User {
  id: number
  username: string
  email: string
  nickname?: string
  avatar?: string
  createdAt: string
}

export interface AuthResponse {
  code: number
  message: string
  data: {
    token: string
    user: User
  }
  timestamp: number
}

export interface ApiResponse<T> {
  code: number
  message: string
  data: T
  timestamp: number
}

// è®¤è¯APIæ¥å£
export const authApi = {
  // ç”¨æˆ·ç™»å½•
  login(data: LoginRequest): Promise<AuthResponse> {
    return api.post('/auth/login', data)
  },

  // ç”¨æˆ·æ³¨å†Œ
  register(data: RegisterRequest): Promise<AuthResponse> {
    return api.post('/auth/register', data)
  },

  // è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
  getCurrentUser(): Promise<ApiResponse<User>> {
    return api.get('/auth/me')
  },

  // ç”¨æˆ·ç™»å‡º
  logout(): Promise<ApiResponse<void>> {
    return api.post('/auth/logout')
  },

  // åˆ·æ–°token
  refreshToken(): Promise<AuthResponse> {
    return api.post('/auth/refresh')
  }
}

export { api }
```

##### å…¶ä»– API æœåŠ¡
```typescript
// src/api/
â”œâ”€â”€ index.ts                     # API ä¸»é…ç½®
â”œâ”€â”€ user.ts                      # ç”¨æˆ·ç›¸å…³ API
â”œâ”€â”€ article.ts                   # æ–‡ç« ç›¸å…³ API
â”œâ”€â”€ category.ts                  # åˆ†ç±»ç›¸å…³ API
â”œâ”€â”€ tag.ts                       # æ ‡ç­¾ç›¸å…³ API
â”œâ”€â”€ comment.ts                   # è¯„è®ºç›¸å…³ API
â”œâ”€â”€ search.ts                    # æœç´¢ç›¸å…³ API
â”œâ”€â”€ statistics.ts                # ç»Ÿè®¡ç›¸å…³ API
â”œâ”€â”€ file.ts                      # æ–‡ä»¶ç›¸å…³ API
â””â”€â”€ admin.ts                     # ç®¡ç†ç›¸å…³ API
```

#### 4.2 HTTP é…ç½®
```typescript
// src/api/config/
â”œâ”€â”€ http.ts                      # HTTP å®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ interceptors.ts              # è¯·æ±‚æ‹¦æˆªå™¨
â”œâ”€â”€ errorHandler.ts              # é”™è¯¯å¤„ç†
â””â”€â”€ types.ts                     # API ç±»å‹å®šä¹‰
```

### 5. å·¥å…·ç±» (Utils)

#### 5.1 é€šç”¨å·¥å…·
```typescript
// src/utils/
â”œâ”€â”€ index.ts                     # å·¥å…·ç±»ä¸»å…¥å£
â”œâ”€â”€ auth.ts                      # è®¤è¯å·¥å…·
â”œâ”€â”€ storage.ts                   # å­˜å‚¨å·¥å…·
â”œâ”€â”€ date.ts                      # æ—¥æœŸå·¥å…·
â”œâ”€â”€ string.ts                    # å­—ç¬¦ä¸²å·¥å…·
â”œâ”€â”€ validation.ts                # éªŒè¯å·¥å…·
â”œâ”€â”€ format.ts                    # æ ¼å¼åŒ–å·¥å…·
â”œâ”€â”€ file.ts                      # æ–‡ä»¶å·¥å…·
â””â”€â”€ dom.ts                       # DOM æ“ä½œå·¥å…·
```

#### 5.2 ä¸šåŠ¡å·¥å…·
```typescript
// src/utils/business/
â”œâ”€â”€ article.ts                   # æ–‡ç« å¤„ç†å·¥å…·
â”œâ”€â”€ search.ts                    # æœç´¢å·¥å…·
â”œâ”€â”€ statistics.ts                # ç»Ÿè®¡å·¥å…·
â””â”€â”€ markdown.ts                  # Markdown å¤„ç†å·¥å…·
```

### 6. ç»„åˆå¼å‡½æ•° (Composables)

```typescript
// src/composables/
â”œâ”€â”€ useAuth.ts                   # è®¤è¯é€»è¾‘
â”œâ”€â”€ useUser.ts                   # ç”¨æˆ·é€»è¾‘
â”œâ”€â”€ useArticle.ts                # æ–‡ç« é€»è¾‘
â”œâ”€â”€ useSearch.ts                 # æœç´¢é€»è¾‘
â”œâ”€â”€ useTheme.ts                  # ä¸»é¢˜é€»è¾‘
â”œâ”€â”€ useLoading.ts                # åŠ è½½çŠ¶æ€é€»è¾‘
â”œâ”€â”€ useNotification.ts           # é€šçŸ¥é€»è¾‘
â”œâ”€â”€ usePagination.ts             # åˆ†é¡µé€»è¾‘
â”œâ”€â”€ useTable.ts                  # è¡¨æ ¼é€»è¾‘
â””â”€â”€ useUpload.ts                 # ä¸Šä¼ é€»è¾‘
```

### 7. é…ç½®æ–‡ä»¶ (Config)

```typescript
// src/config/
â”œâ”€â”€ index.ts                     # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ app.ts                       # åº”ç”¨é…ç½®
â”œâ”€â”€ api.ts                       # API é…ç½®
â”œâ”€â”€ theme.ts                     # ä¸»é¢˜é…ç½®
â”œâ”€â”€ constants.ts                 # å¸¸é‡å®šä¹‰
â””â”€â”€ env.ts                       # ç¯å¢ƒå˜é‡é…ç½®
```

### 8. æ ·å¼æ–‡ä»¶ (Styles)

```css
// src/assets/styles/
â”œâ”€â”€ index.css                    # ä¸»æ ·å¼æ–‡ä»¶
â”œâ”€â”€ base.css                     # åŸºç¡€æ ·å¼
â”œâ”€â”€ components.css               # ç»„ä»¶æ ·å¼
â”œâ”€â”€ utilities.css                # å·¥å…·ç±»æ ·å¼
â”œâ”€â”€ animations.css               # åŠ¨ç”»æ ·å¼
â””â”€â”€ responsive.css               # å“åº”å¼æ ·å¼
```

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

#### ç”¨æˆ·ç›¸å…³è¡¨
```sql
-- ç”¨æˆ·è¡¨
sys_user (id, username, email, password, role, status, created_at, updated_at)

-- ç”¨æˆ·è§’è‰²è¡¨
sys_role (id, name, code, description, created_at, updated_at)

-- ç”¨æˆ·æƒé™è¡¨
sys_permission (id, name, code, type, resource, action, created_at, updated_at)
```

#### å†…å®¹ç›¸å…³è¡¨
```sql
-- æ–‡ç« è¡¨
article (id, title, content, summary, author_id, category_id, status, view_count, like_count, created_at, updated_at)

-- æ–‡ç« ç‰ˆæœ¬è¡¨
article_version (id, article_id, version, title, content, created_at, created_by)

-- åˆ†ç±»è¡¨
category (id, name, slug, description, parent_id, sort_order, created_at, updated_at)

-- æ ‡ç­¾è¡¨
tag (id, name, slug, color, description, use_count, created_at, updated_at)

-- æ–‡ç« æ ‡ç­¾å…³è”è¡¨
article_tag (article_id, tag_id, created_at)
```

#### äº¤äº’ç›¸å…³è¡¨
```sql
-- è¯„è®ºè¡¨
comment (id, article_id, user_id, parent_id, content, status, like_count, created_at, updated_at)

-- è®¿é—®æ—¥å¿—è¡¨
visit_log (id, user_id, article_id, ip, user_agent, referer, created_at)

-- æœç´¢æ—¥å¿—è¡¨
search_log (id, user_id, keyword, results_count, ip, created_at)
```

#### ç³»ç»Ÿç›¸å…³è¡¨
```sql
-- æ–‡ä»¶ä¿¡æ¯è¡¨
file_info (id, original_name, file_name, file_path, file_size, file_type, upload_user_id, created_at)

-- å®šæ—¶ä»»åŠ¡è¡¨
scheduled_task (id, name, cron_expression, status, last_run_time, next_run_time, created_at, updated_at)

-- ç³»ç»Ÿé…ç½®è¡¨
system_config (id, config_key, config_value, description, created_at, updated_at)
```

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·è®¤è¯æ¨¡å— (Authentication Module)
- JWT æ— çŠ¶æ€è®¤è¯
- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- è§’è‰²æƒé™æ§åˆ¶
- Token åˆ·æ–°æœºåˆ¶
- å¯†ç åŠ å¯†å­˜å‚¨

### 2. æ–‡ç« ç®¡ç†ç³»ç»Ÿ (Article Management System)
- æ–‡ç«  CRUD æ“ä½œ
- æ–‡ç« çŠ¶æ€ç®¡ç† (è‰ç¨¿/å‘å¸ƒ/å½’æ¡£)
- ç‰ˆæœ¬å†å²è®°å½•
- æ–‡ç« å¯¼å‡º (PDF/Markdown)
- å®šæ—¶å‘å¸ƒåŠŸèƒ½
- æ–‡ç« åˆ†ç±»ç®¡ç†

### 3. æœç´¢æœåŠ¡ (Search Service)
- Elasticsearch å…¨æ–‡æœç´¢
- é«˜äº®æ˜¾ç¤ºåŒ¹é…å†…å®¹
- ç›¸å…³åº¦æ’åº
- æœç´¢ç»Ÿè®¡åˆ†æ
- æœç´¢å»ºè®®åŠŸèƒ½

### 4. æ ‡ç­¾ç³»ç»Ÿ (Tag System)
- æ ‡ç­¾çƒ­åº¦è®¡ç®—
- æ ‡ç­¾åˆå¹¶åŠŸèƒ½
- æ ‡ç­¾è‡ªåŠ¨å»ºè®®
- æ ‡ç­¾ç»Ÿè®¡åˆ†æ
- æ ‡ç­¾äº‘å¯è§†åŒ–

### 5. è¯„è®ºç³»ç»Ÿ (Comment System)
- åµŒå¥—è¯„è®ºæ”¯æŒ
- è¯„è®ºç‚¹èµåŠŸèƒ½
- è¯„è®ºå®¡æ ¸æœºåˆ¶
- Markdown æ¸²æŸ“
- è¯„è®ºé€šçŸ¥

### 6. æ–‡ä»¶ç®¡ç† (File Management)
- å›¾ç‰‡ä¸Šä¼ æœåŠ¡
- OSS å­˜å‚¨é›†æˆ
- æ–‡ä»¶å‹ç¼©å¤„ç†
- å†—ä½™æ–‡ä»¶æ¸…ç†
- æ–‡ä»¶ç±»å‹éªŒè¯

### 7. ç»Ÿè®¡åˆ†æ (Statistics & Analytics)
- è®¿é—®ç»Ÿè®¡è®°å½•
- çƒ­é—¨å†…å®¹åˆ†æ
- ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡
- æœç´¢å…³é”®è¯åˆ†æ
- å®æ—¶æ•°æ®ç›‘æ§

### 8. å®šæ—¶ä»»åŠ¡ (Scheduled Tasks)
- æ•°æ®åº“å¤‡ä»½
- çƒ­åº¦æ•°æ®è®¡ç®—
- æ­»é“¾æ£€æµ‹
- ä»»åŠ¡ç›‘æ§ç®¡ç†
- é‚®ä»¶é€šçŸ¥

## ğŸ—ï¸ æ¶æ„è®¾è®¡æ¨¡å¼

### åç«¯æ¶æ„æ¨¡å¼
- **MVC æ¶æ„**: Controller-Service-Repository åˆ†å±‚
- **ä¾èµ–æ³¨å…¥**: Spring IoC å®¹å™¨ç®¡ç†
- **åˆ‡é¢ç¼–ç¨‹**: AOP å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹
- **æ¨¡æ¿æ–¹æ³•**: ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¨¡å¼
- **ç­–ç•¥æ¨¡å¼**: ä¸åŒçš„æœç´¢ç­–ç•¥å®ç°
- **è§‚å¯Ÿè€…æ¨¡å¼**: äº‹ä»¶é©±åŠ¨çš„ä¸šåŠ¡é€»è¾‘

### å‰ç«¯æ¶æ„æ¨¡å¼
- **ç»„ä»¶åŒ–æ¶æ„**: Vue 3 Composition API
- **çŠ¶æ€ç®¡ç†**: Pinia å“åº”å¼çŠ¶æ€ç®¡ç†
- **æ¨¡å—åŒ–è®¾è®¡**: ES6 æ¨¡å—ç³»ç»Ÿ
- **ç»„åˆå¼å‡½æ•°**: é€»è¾‘å¤ç”¨å’Œå°è£…
- **æ’ä»¶åŒ–æ¶æ„**: å¯æ‰©å±•çš„åŠŸèƒ½æ¨¡å—
- **å“åº”å¼è®¾è®¡**: ç§»åŠ¨ç«¯é€‚é…

## ğŸ”§ å¼€å‘è¿ç»´

### å¼€å‘ç¯å¢ƒé…ç½®
```bash
# åç«¯ç¯å¢ƒ
JDK 21+
Maven 3.8+
MySQL 8.0+
Redis 6.0+
Elasticsearch 8.0+

# å‰ç«¯ç¯å¢ƒ
Node.js 18+
npm 9+
Vue CLI 5+
```

### éƒ¨ç½²é…ç½®
```yaml
# Docker éƒ¨ç½²
docker-compose.yml
â”œâ”€â”€ app (Spring Boot åº”ç”¨)
â”œâ”€â”€ mysql (MySQL æ•°æ®åº“)
â”œâ”€â”€ redis (Redis ç¼“å­˜)
â”œâ”€â”€ elasticsearch (æœç´¢å¼•æ“)
â””â”€â”€ nginx (åå‘ä»£ç†)
```

### ç›‘æ§é…ç½®
```yaml
# åº”ç”¨ç›‘æ§
â”œâ”€â”€ Spring Boot Actuator (åº”ç”¨å¥åº·ç›‘æ§)
â”œâ”€â”€ Micrometer (æŒ‡æ ‡æ”¶é›†)
â”œâ”€â”€ Logback (æ—¥å¿—ç®¡ç†)
â””â”€â”€ Prometheus + Grafana (ç›‘æ§å¯è§†åŒ–)
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### åç«¯æ€§èƒ½ä¼˜åŒ–
- **æ•°æ®åº“ä¼˜åŒ–**: ç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢ä¼˜åŒ–ã€è¿æ¥æ± é…ç½®
- **ç¼“å­˜ç­–ç•¥**: Redis å¤šçº§ç¼“å­˜ã€æŸ¥è¯¢ç»“æœç¼“å­˜
- **å¼‚æ­¥å¤„ç†**: å®šæ—¶ä»»åŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—
- **èµ„æºä¼˜åŒ–**: æ–‡ä»¶å‹ç¼©ã€CDN åŠ é€Ÿ

### å‰ç«¯æ€§èƒ½ä¼˜åŒ–
- **æ„å»ºä¼˜åŒ–**: Vite æ„å»ºä¼˜åŒ–ã€ä»£ç åˆ†å‰²
- **èµ„æºä¼˜åŒ–**: å›¾ç‰‡æ‡’åŠ è½½ã€ç»„ä»¶æ‡’åŠ è½½
- **ç¼“å­˜ç­–ç•¥**: æµè§ˆå™¨ç¼“å­˜ã€PWA ç¼“å­˜
- **ç”¨æˆ·ä½“éªŒ**: éª¨æ¶å±ã€loading çŠ¶æ€

## ğŸ”’ å®‰å…¨æœºåˆ¶

### è®¤è¯å®‰å…¨
- JWT Token è®¤è¯
- å¯†ç åŠ å¯†å­˜å‚¨
- ç™»å½•é¢‘ç‡é™åˆ¶
- ä¼šè¯ç®¡ç†

### æ•°æ®å®‰å…¨
- SQL æ³¨å…¥é˜²æŠ¤
- XSS æ”»å‡»é˜²æŠ¤
- CSRF æ”»å‡»é˜²æŠ¤
- æ–‡ä»¶ä¸Šä¼ å®‰å…¨

### æ¥å£å®‰å…¨
- API è®¿é—®é¢‘ç‡é™åˆ¶
- å‚æ•°éªŒè¯
- æƒé™éªŒè¯
- æ—¥å¿—å®¡è®¡

---

## ğŸ“ ä»£ç å†…å®¹è¯´æ˜

### å·²åŒ…å«çš„å…·ä½“ä»£ç 
æœ¬æ–‡æ¡£å·²ç»åŒ…å«äº†ä»¥ä¸‹å…³é”®ä»£ç æ–‡ä»¶çš„å®Œæ•´å†…å®¹ï¼š

#### åç«¯ä»£ç  (Spring Boot)
- âœ… **Application.java** - Spring Boot å¯åŠ¨ç±» (20è¡Œ)
- âœ… **SecurityConfig.java** - Spring Security å®‰å…¨é…ç½® (157è¡Œ)
- âœ… **User.java** - ç”¨æˆ·å®ä½“ç±» (115è¡Œ)
- âœ… **Article.java** - æ–‡ç« å®ä½“ç±» (115è¡Œ)
- âœ… **UserService.java** - ç”¨æˆ·æœåŠ¡æ¥å£ (45è¡Œ)
- âœ… **ArticleService.java** - æ–‡ç« æœåŠ¡æ¥å£ (94è¡Œ)
- âœ… **AuthController.java** - è®¤è¯æ§åˆ¶å™¨ (172è¡Œ)

#### å‰ç«¯ä»£ç  (Vue 3)
- âœ… **main.ts** - åº”ç”¨ä¸»å…¥å£ (41è¡Œ)
- âœ… **auth.ts (API)** - è®¤è¯APIæœåŠ¡ (130è¡Œ)
- âœ… **auth.ts (Store)** - è®¤è¯çŠ¶æ€ç®¡ç† (147è¡Œ)
- âœ… **ArticleCard.vue** - æ–‡ç« å¡ç‰‡ç»„ä»¶ (133è¡Œ)

### æœªå®Œå…¨å±•ç¤ºçš„ä»£ç æ–‡ä»¶
ç”±äºç¯‡å¹…é™åˆ¶ï¼Œä»¥ä¸‹æ–‡ä»¶ä»…æ˜¾ç¤ºäº†ç›®å½•ç»“æ„å’Œè¯´æ˜ï¼š

#### åç«¯å‰©ä½™ä»£ç 
- **å®ä½“ç±»**: Category.java, Tag.java, Comment.java ç­‰
- **æœåŠ¡å®ç°**: UserServiceImpl.java, ArticleServiceImpl.java ç­‰
- **å…¶ä»–æ§åˆ¶å™¨**: ArticleController.java (338è¡Œ), CategoryController.java (198è¡Œ) ç­‰
- **é…ç½®ç±»**: MyBatisPlusConfig.java, OpenApiConfig.java ç­‰
- **å·¥å…·ç±»**: JwtUtil.java, DateUtils.java ç­‰
- **å®‰å…¨æ¨¡å—**: JwtAuthenticationFilter.java, JwtTokenUtil.java ç­‰

#### å‰ç«¯å‰©ä½™ä»£ç 
- **å¤§å‹é¡µé¢**: HomeView.vue (1884è¡Œ), ArticleDetailView.vue (1516è¡Œ), SearchView.vue (1354è¡Œ)
- **ç®¡ç†é¡µé¢**: CategoryManagementView.vue (445è¡Œ), TagView.vue (1499è¡Œ)
- **å…¶ä»–ç»„ä»¶**: CommentSection.vue (326è¡Œ), DigitalLibraryHeader.vue (433è¡Œ)
- **APIæœåŠ¡**: articles.ts (126è¡Œ), categories.ts (105è¡Œ), tags.ts (67è¡Œ)
- **çŠ¶æ€ç®¡ç†**: articles.ts (267è¡Œ), categories.ts (251è¡Œ) ç­‰

### é¡¹ç›®è§„æ¨¡ç»Ÿè®¡
```
æ€»ä»£ç æ–‡ä»¶æ•°é‡:
â”œâ”€â”€ åç«¯ Java æ–‡ä»¶: 20+ ä¸ª (çº¦ 8,000+ è¡Œ)
â”œâ”€â”€ å‰ç«¯ Vue/TS æ–‡ä»¶: 25+ ä¸ª (çº¦ 12,000+ è¡Œ)  
â”œâ”€â”€ é…ç½®æ–‡ä»¶: 15+ ä¸ª
â”œâ”€â”€ æ•°æ®åº“è„šæœ¬: 1ä¸ª (290è¡Œ)
â””â”€â”€ æ–‡æ¡£æ–‡ä»¶: 5ä¸ª

å·²å±•ç¤ºå…·ä½“ä»£ç : 1,169è¡Œ
é¡¹ç›®æ€»ä»£ç é‡: 20,000+ è¡Œ
æ–‡æ¡£å®Œæ•´åº¦: æ ¸å¿ƒä»£ç  100% è¦†ç›–
```

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### å¼€å‘äººå‘˜ä½¿ç”¨
- **æ–°äººå…¥èŒ**: å¿«é€Ÿäº†è§£é¡¹ç›®æ¶æ„å’Œä»£ç ç»„ç»‡
- **åŠŸèƒ½å¼€å‘**: å‚è€ƒç°æœ‰ä»£ç æ¨¡å¼å’Œæœ€ä½³å®è·µ
- **ä»£ç å®¡æŸ¥**: ç¡®ä¿æ–°ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- **è°ƒè¯•å®šä½**: æ ¹æ®åˆ†ç±»å¿«é€Ÿæ‰¾åˆ°ç›¸å…³ä»£ç æ–‡ä»¶

### é¡¹ç›®ç®¡ç†ä½¿ç”¨
- **æŠ€æœ¯æ–‡æ¡£**: ä½œä¸ºé¡¹ç›®æŠ€æœ¯æ–‡æ¡£çš„é‡è¦ç»„æˆéƒ¨åˆ†
- **æ¶æ„è¯„ä¼°**: è¯„ä¼°é¡¹ç›®æŠ€æœ¯æ ˆå’Œæ¶æ„åˆç†æ€§
- **äººå‘˜åŸ¹è®­**: å›¢é˜Ÿæˆå‘˜æŠ€æœ¯åŸ¹è®­ææ–™
- **è¿›åº¦è¿½è¸ª**: äº†è§£å„æ¨¡å—å¼€å‘å®Œæˆæƒ…å†µ

### è¿ç»´äººå‘˜ä½¿ç”¨
- **éƒ¨ç½²å‚è€ƒ**: äº†è§£é¡¹ç›®ä¾èµ–å’Œé…ç½®è¦æ±‚
- **ç›‘æ§é…ç½®**: æ ¹æ®é¡¹ç›®ç»“æ„é…ç½®ç›‘æ§ç‚¹
- **æ•…éšœæ’æŸ¥**: å¿«é€Ÿå®šä½é—®é¢˜å¯èƒ½å‡ºç°çš„ä»£ç ä½ç½®
- **æ€§èƒ½ä¼˜åŒ–**: åŸºäºä»£ç ç»“æ„åˆ¶å®šä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ”„ æ–‡æ¡£ç»´æŠ¤

### æ›´æ–°ç­–ç•¥
- **ä¸»è¦ç‰ˆæœ¬å‘å¸ƒ**: å®Œæ•´æ›´æ–°ä»£ç ç¤ºä¾‹å’Œæ¶æ„è¯´æ˜
- **åŠŸèƒ½è¿­ä»£**: æ›´æ–°ç›¸å…³æ¨¡å—ä»£ç å’Œæ¥å£æ–‡æ¡£
- **Bugä¿®å¤**: æ›´æ–°å¯¹åº”ä»£ç ç‰‡æ®µå’Œä¿®å¤è¯´æ˜
- **é‡æ„ä¼˜åŒ–**: åŒæ­¥æ›´æ–°æ¶æ„è®¾è®¡å’Œæœ€ä½³å®è·µ

### ç»´æŠ¤è´£ä»»åˆ†å·¥
- **é¡¹ç›®æ¶æ„å¸ˆ**: è´Ÿè´£æ•´ä½“æ¶æ„è®¾è®¡æ–‡æ¡£æ›´æ–°
- **åç«¯å¼€å‘å›¢é˜Ÿ**: è´Ÿè´£åç«¯ä»£ç ç¤ºä¾‹å’ŒAPIæ–‡æ¡£æ›´æ–°
- **å‰ç«¯å¼€å‘å›¢é˜Ÿ**: è´Ÿè´£å‰ç«¯ä»£ç ç¤ºä¾‹å’Œç»„ä»¶æ–‡æ¡£æ›´æ–°
- **æŠ€æœ¯æ–‡æ¡£ç®¡ç†å‘˜**: è´Ÿè´£æ–‡æ¡£æ ¼å¼ç»Ÿä¸€å’Œç‰ˆæœ¬ç®¡ç†

---

## âœ¨ æ€»ç»“

è¿™ä»½**2,000+è¡Œ**çš„ä»£ç åˆ†ç±»æ•´ç†æ–‡æ¡£ä¸º"æ¨ªæ‰«æ±Ÿæ¹–ä¸ªäººçŸ¥è¯†åº“ç³»ç»Ÿ"æä¾›äº†ï¼š

### ğŸ—ï¸ å®Œæ•´çš„é¡¹ç›®æ¶æ„
1. **æŠ€æœ¯æ ˆæ€»è§ˆ** - Spring Boot 3.3.8 + Vue 3 å…¨æ ˆè§£å†³æ–¹æ¡ˆ
2. **åˆ†å±‚è®¾è®¡** - åç«¯MVCæ¶æ„ + å‰ç«¯ç»„ä»¶åŒ–æ¶æ„
3. **æ¨¡å—åˆ’åˆ†** - 16ä¸ªæ ¸å¿ƒæ¨¡å—ï¼ŒèŒè´£æ¸…æ™°ï¼Œè¾¹ç•Œæ˜ç¡®

### ğŸ’» è¯¦ç»†çš„ä»£ç åˆ†ç±»  
1. **åç«¯8å¤§æ¨¡å—** - ä»å¯åŠ¨ç±»åˆ°å·¥å…·ç±»çš„å®Œæ•´åˆ†ç±»
2. **å‰ç«¯8å¤§æ¨¡å—** - ä»åº”ç”¨å…¥å£åˆ°æ ·å¼æ–‡ä»¶çš„ç³»ç»Ÿç»„ç»‡
3. **1,169è¡Œæ ¸å¿ƒä»£ç ** - å…³é”®æ–‡ä»¶çš„å®Œæ•´æºä»£ç å±•ç¤º

### ğŸ”§ å®ç”¨çš„å¼€å‘æŒ‡å—
1. **ç¯å¢ƒé…ç½®** - JDK 21 + Node.js 18 å¼€å‘ç¯å¢ƒ
2. **éƒ¨ç½²æ–¹æ¡ˆ** - Docker + nginx ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
3. **æ€§èƒ½ä¼˜åŒ–** - æ•°æ®åº“ + ç¼“å­˜ + å‰ç«¯æ„å»ºä¼˜åŒ–
4. **å®‰å…¨æœºåˆ¶** - JWT + Spring Security + CORS å®Œæ•´å®‰å…¨ä½“ç³»

### ğŸ“Š ç³»ç»Ÿçš„ç®¡ç†ä½“ç³»
1. **å¼€å‘è§„èŒƒ** - ä»£ç ç»„ç»‡ã€å‘½åè§„èŒƒã€æœ€ä½³å®è·µ
2. **è´¨é‡ä¿è¯** - ä»£ç å®¡æŸ¥ã€æµ‹è¯•ç­–ç•¥ã€ç›‘æ§æ–¹æ¡ˆ
3. **å›¢é˜Ÿåä½œ** - æ–‡æ¡£ç»´æŠ¤ã€çŸ¥è¯†ä¼ æ‰¿ã€åŸ¹è®­ææ–™

### ğŸ¯ å¤šé‡ä»·å€¼ä½“ç°
- **ğŸ“– æŠ€æœ¯æ–‡æ¡£** - é¡¹ç›®å¼€å‘å’Œç»´æŠ¤çš„æƒå¨å‚è€ƒ
- **ğŸ“ å­¦ä¹ èµ„æ–™** - å…¨æ ˆå¼€å‘çš„å®Œæ•´æ¡ˆä¾‹å’Œæ•™ç¨‹
- **ğŸ” è§„èŒƒæŒ‡å—** - ä¼ä¸šçº§å¼€å‘çš„æ ‡å‡†å’Œæœ€ä½³å®è·µ
- **ğŸ“ æ¶æ„å‚è€ƒ** - ç°ä»£åŒ–çŸ¥è¯†åº“ç³»ç»Ÿçš„è®¾è®¡è“å›¾



---

*æœ¬æ–‡æ¡£æœ€åæ›´æ–°æ—¶é—´: 2025å¹´*  
*é¡¹ç›®ç‰ˆæœ¬: v1.0.0*  
*æ–‡æ¡£ç‰ˆæœ¬: v1.0.0*  
*åŒ…å«å…·ä½“ä»£ç : 1,169è¡Œ*  
*æ–‡æ¡£æ€»è¡Œæ•°: 2,004è¡Œ* 